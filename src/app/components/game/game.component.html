<div class="table">
  <div class="game-board">
    <span *ngFor="let player of players">
      <div
        *ngIf="player.currentLocation"
        class="player-wrapper"
        [ngStyle]="{
          'left.px': player.currentLocation.position.xPosition,
          'top.px': player.currentLocation.position.yPosition
        }"
      >
        <app-player [directionFacing]="player.directionFacing" />
      </div>
    </span>

    <!-- TODO Find a way to get the player currently being controlled -->

    <div
      class="movement-node-wrapper"
      (click)="
        locationService.clickOnNode(
          this.locationService.locationsMap.get('Enoach Desert')!
        )
      "
      [ngStyle]="{
        'left.px':
          this.locationService.locationsMap.get('Enoach Desert')!.position
            .xPosition,
        'top.px':
          this.locationService.locationsMap.get('Enoach Desert')!.position
            .yPosition
      }"
    >
      <app-movement-node />
    </div>

    <div
      class="movement-node-wrapper"
      (click)="
        locationService.clickOnNode(
          this.locationService.locationsMap.get('arlan')!
        )
      "
      [ngStyle]="{
        'left.px':
          this.locationService.locationsMap.get('arlan')!.position.xPosition,
        'top.px':
          this.locationService.locationsMap.get('arlan')!.position.yPosition
      }"
    >
      <app-movement-node />
    </div>

    <div
      class="movement-node-wrapper"
      (click)="
        locationService.clickOnNode(
          this.locationService.locationsMap.get('draebar')!
        )
      "
      [ngStyle]="{
        'left.px':
          this.locationService.locationsMap.get('draebar')!.position.xPosition,
        'top.px':
          this.locationService.locationsMap.get('draebar')!.position.yPosition
      }"
    >
      <app-movement-node />
    </div>

    <div
      class="movement-node-wrapper"
      (click)="
        locationService.clickOnNode(
          this.locationService.locationsMap.get('The Elder Forest')!
        )
      "
      [ngStyle]="{
        'left.px':
          this.locationService.locationsMap.get('The Elder Forest')!.position
            .xPosition,
        'top.px':
          this.locationService.locationsMap.get('The Elder Forest')!.position
            .yPosition
      }"
    >
      <app-movement-node />
    </div>
  </div>
</div>
